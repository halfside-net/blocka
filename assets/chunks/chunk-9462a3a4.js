var _excluded=["transform"],_excluded2=["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"],_excluded3=["active","dragOverlay","transform"];function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function _objectWithoutProperties(a,b){if(null==a)return{};var c,d,e=_objectWithoutPropertiesLoose(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==typeof b?b:b+""}function _toPrimitive(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}import{r as c,R as M,b as le,a as ce,j as mn}from"./chunk-c99e57a5.js";var Ke="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement;function fe(a){var b=Object.prototype.toString.call(a);return"[object Window]"===b||"[object global]"===b}function st(a){return"nodeType"in a}function I(a){var b,c;return a?fe(a)?a:st(a)&&null!=(b=null==(c=a.ownerDocument)?void 0:c.defaultView)?b:window:window}function at(a){var{Document:b}=I(a);return a instanceof b}function Ee(a){return!fe(a)&&a instanceof I(a).HTMLElement}function Kt(a){return a instanceof I(a).SVGElement}function he(a){return a?fe(a)?a.document:st(a)?at(a)?a:Ee(a)||Kt(a)?a.ownerDocument:document:document:document}var W=Ke?c.useLayoutEffect:c.useEffect;function Ue(a){var b=c.useRef(a);return W(()=>{b.current=a}),c.useCallback(function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return null==b.current?void 0:b.current(...c)},[])}function yn(){var a=c.useRef(null),b=c.useCallback((b,c)=>{a.current=setInterval(b,c)},[]),d=c.useCallback(()=>{null!==a.current&&(clearInterval(a.current),a.current=null)},[]);return[b,d]}function De(a,b){void 0===b&&(b=[a]);var d=c.useRef(a);return W(()=>{d.current!==a&&(d.current=a)},b),d}function Me(a,b){var d=c.useRef();return c.useMemo(()=>{var b=a(d.current);return d.current=b,b},[...b])}function ze(a){var b=Ue(a),d=c.useRef(null),e=c.useCallback(a=>{a!==d.current&&(null==b||b(a,d.current)),d.current=a},[]);return[d,e]}function Fe(a){var b=c.useRef();return c.useEffect(()=>{b.current=a},[a]),b.current}var Qe={};function We(a,b){return c.useMemo(()=>{if(b)return b;var c=null==Qe[a]?0:Qe[a]+1;return Qe[a]=c,a+"-"+c},[a,b])}function Ut(a){return function(b){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.reduce((b,c)=>{var d=Object.entries(c);for(var[e,g]of d){var h=b[e];null!=h&&(b[e]=h+a*g)}return b},_objectSpread({},b))}}var ue=Ut(1),$e=Ut(-1);function wn(a){return"clientX"in a&&"clientY"in a}function lt(a){if(!a)return!1;var{KeyboardEvent:b}=I(a.target);return b&&a instanceof b}function xn(a){if(!a)return!1;var{TouchEvent:b}=I(a.target);return b&&a instanceof b}function Ye(a){if(xn(a)){if(a.touches&&a.touches.length){var{clientX:b,clientY:c}=a.touches[0];return{x:b,y:c}}if(a.changedTouches&&a.changedTouches.length){var{clientX:d,clientY:e}=a.changedTouches[0];return{x:d,y:e}}}return wn(a)?{x:a.clientX,y:a.clientY}:null}var Re=Object.freeze({Translate:{toString(a){if(a){var{x:b,y:c}=a;return"translate3d("+(b?Math.round(b):0)+"px, "+(c?Math.round(c):0)+"px, 0)"}}},Scale:{toString(a){if(a){var{scaleX:b,scaleY:c}=a;return"scaleX("+b+") scaleY("+c+")"}}},Transform:{toString(a){if(a)return[Re.Translate.toString(a),Re.Scale.toString(a)].join(" ")}},Transition:{toString(a){var{property:b,duration:c,easing:d}=a;return b+" "+c+"ms "+d}}}),Tt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Cn(a){return a.matches(Tt)?a:a.querySelector(Tt)}var Dn={display:"none"};function Rn(a){var{id:b,value:c}=a;return M.createElement("div",{id:b,style:Dn},c)}function Sn(a){var{id:b,announcement:c,ariaLiveType:d="assertive"}=a;return M.createElement("div",{id:b,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":d,"aria-atomic":!0},c)}function En(){var[a,b]=c.useState("");return{announce:c.useCallback(a=>{null!=a&&b(a)},[]),announcement:a}}var Wt=c.createContext(null);function Mn(a){var b=c.useContext(Wt);c.useEffect(()=>{if(!b)throw new Error("useDndMonitor must be used within a children of <DndContext>");return b(a)},[a,b])}function On(){var[a]=c.useState(()=>new Set),b=c.useCallback(b=>(a.add(b),()=>a.delete(b)),[a]);return[c.useCallback(b=>{var{type:c,event:d}=b;a.forEach(b=>{var e;return null==(e=b[c])?void 0:e.call(b,d)})},[a]),b]}var An={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Nn={onDragStart(a){var{active:b}=a;return"Picked up draggable item "+b.id+"."},onDragOver(a){var{active:b,over:c}=a;return c?"Draggable item "+b.id+" was moved over droppable area "+c.id+".":"Draggable item "+b.id+" is no longer over a droppable area."},onDragEnd(a){var{active:b,over:c}=a;return c?"Draggable item "+b.id+" was dropped over droppable area "+c.id:"Draggable item "+b.id+" was dropped."},onDragCancel(a){var{active:b}=a;return"Dragging was cancelled. Draggable item "+b.id+" was dropped."}};function Tn(b){var{announcements:g=Nn,container:d,hiddenTextDescribedById:e,screenReaderInstructions:h=An}=b,{announce:j,announcement:i}=En(),k=We("DndLiveRegion"),[a,l]=c.useState(!1);if(c.useEffect(()=>{l(!0)},[]),Mn(c.useMemo(()=>({onDragStart(a){var{active:b}=a;j(g.onDragStart({active:b}))},onDragMove(a){var{active:b,over:c}=a;g.onDragMove&&j(g.onDragMove({active:b,over:c}))},onDragOver(a){var{active:b,over:c}=a;j(g.onDragOver({active:b,over:c}))},onDragEnd(a){var{active:b,over:c}=a;j(g.onDragEnd({active:b,over:c}))},onDragCancel(a){var{active:b,over:c}=a;j(g.onDragCancel({active:b,over:c}))}}),[j,g])),!a)return null;var m=M.createElement(M.Fragment,null,M.createElement(Rn,{id:e,value:h.draggable}),M.createElement(Sn,{id:k,announcement:i}));return d?le.createPortal(m,d):m}var A;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(A||(A={}));function je(){}var K=Object.freeze({x:0,y:0});function kn(a,b){var c=Ye(a);if(!c)return"0 0";var d={x:100*((c.x-b.left)/b.width),y:100*((c.y-b.top)/b.height)};return d.x+"% "+d.y+"%"}function Ln(a,b){var{data:{value:c}}=a,{data:{value:d}}=b;return d-c}function In(a,b){if(!a||0===a.length)return null;var[c]=a;return b?c[b]:c}function Pn(a,b){var c=Math.max(b.top,a.top),d=Math.max(b.left,a.left),e=Math.min(b.left+b.width,a.left+a.width),g=Math.min(b.top+b.height,a.top+a.height);if(d<e&&c<g){var h=b.width*b.height,i=a.width*a.height,j=(e-d)*(g-c);return+(j/(h+i-j)).toFixed(4)}return 0}var Bn=b=>{var{collisionRect:c,droppableRects:d,droppableContainers:e}=b,f=[];for(var g of e){var{id:h}=g,j=d.get(h);if(j){var k=Pn(j,c);0<k&&f.push({id:h,data:{droppableContainer:g,value:k}})}}return f.sort(Ln)};function zn(a,b,c){return _objectSpread(_objectSpread({},a),{},{scaleX:b&&c?b.width/c.width:1,scaleY:b&&c?b.height/c.height:1})}function Ht(a,b){return a&&b?{x:a.left-b.left,y:a.top-b.top}:K}function Fn(b){return function(a){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.reduce((c,d)=>_objectSpread(_objectSpread({},c),{},{top:c.top+b*d.y,bottom:c.bottom+b*d.y,left:c.left+b*d.x,right:c.right+b*d.x}),_objectSpread({},a))}}var $n=Fn(1);function Vt(a){if(a.startsWith("matrix3d(")){var b=a.slice(9,-1).split(/, /);return{x:+b[12],y:+b[13],scaleX:+b[0],scaleY:+b[5]}}if(a.startsWith("matrix(")){var c=a.slice(7,-1).split(/, /);return{x:+c[4],y:+c[5],scaleX:+c[0],scaleY:+c[3]}}return null}function Yn(b,c,e){var g=Vt(c);if(!g)return b;var{scaleX:h,scaleY:j,x:i,y:k}=g,a=b.left-i-(1-h)*parseFloat(e),l=b.top-k-(1-j)*parseFloat(e.slice(e.indexOf(" ")+1)),m=h?b.width/h:b.width,f=j?b.height/j:b.height;return{width:m,height:f,top:l,right:a+m,bottom:l+f,left:a}}var jn={ignoreTransform:!1};function Oe(b,c){void 0===c&&(c=jn);var d=b.getBoundingClientRect();if(c.ignoreTransform){var{transform:e,transformOrigin:g}=I(b).getComputedStyle(b);e&&(d=Yn(d,e,g))}var{top:f,left:h,width:j,height:i,bottom:k,right:a}=d;return{top:f,left:h,width:j,height:i,bottom:k,right:a}}function kt(a){return Oe(a,{ignoreTransform:!0})}function Xn(a){var b=a.innerWidth,c=a.innerHeight;return{top:0,left:0,right:b,bottom:c,width:b,height:c}}function Kn(a,b){return void 0===b&&(b=I(a).getComputedStyle(a)),"fixed"===b.position}function Un(a,b){void 0===b&&(b=I(a).getComputedStyle(a));var c=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{var d=b[a];return!("string"!=typeof d)&&c.test(d)})}function ct(a,b){function c(e){if(null!=b&&d.length>=b||!e)return d;if(at(e)&&null!=e.scrollingElement&&!d.includes(e.scrollingElement))return d.push(e.scrollingElement),d;if(!Ee(e)||Kt(e)||d.includes(e))return d;var f=I(a).getComputedStyle(e);return e!==a&&Un(e,f)&&d.push(e),Kn(e,f)?d:c(e.parentNode)}var d=[];return a?c(a):d}function _t(a){var[b]=ct(a,1);return null!==b&&void 0!==b?b:null}function Ze(a){return Ke&&a?fe(a)?a:st(a)?at(a)||a===he(a).scrollingElement?window:Ee(a)?a:null:null:null}function qt(a){return fe(a)?a.scrollX:a.scrollLeft}function Gt(a){return fe(a)?a.scrollY:a.scrollTop}function rt(a){return{x:qt(a),y:Gt(a)}}var T;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(T||(T={}));function Jt(a){return!!(Ke&&a)&&a===document.scrollingElement}function Qt(b){var c={x:0,y:0},d=Jt(b)?{height:window.innerHeight,width:window.innerWidth}:{height:b.clientHeight,width:b.clientWidth},e={x:b.scrollWidth-d.width,y:b.scrollHeight-d.height},f=b.scrollTop<=c.y,g=b.scrollLeft<=c.x,h=b.scrollTop>=e.y,i=b.scrollLeft>=e.x;return{isTop:f,isLeft:g,isBottom:h,isRight:i,maxScroll:e,minScroll:c}}var Wn={x:.2,y:.2};function Hn(b,c,e,j,k){var{top:m,left:i,right:n,bottom:a}=e;void 0===j&&(j=10),void 0===k&&(k=Wn);var{isTop:l,isBottom:p,isLeft:f,isRight:d}=Qt(b),q={x:0,y:0},h={x:0,y:0},s={height:c.height*k.y,width:c.width*k.x};return!l&&m<=c.top+s.height?(q.y=T.Backward,h.y=j*Math.abs((c.top+s.height-m)/s.height)):!p&&a>=c.bottom-s.height&&(q.y=T.Forward,h.y=j*Math.abs((c.bottom-s.height-a)/s.height)),!d&&n>=c.right-s.width?(q.x=T.Forward,h.x=j*Math.abs((c.right-s.width-n)/s.width)):!f&&i<=c.left+s.width&&(q.x=T.Backward,h.x=j*Math.abs((c.left+s.width-i)/s.width)),{direction:q,speed:h}}function Vn(a){if(a===document.scrollingElement){var{innerWidth:b,innerHeight:c}=window;return{top:0,left:0,right:b,bottom:c,width:b,height:c}}var{top:d,left:e,right:f,bottom:g}=a.getBoundingClientRect();return{top:d,left:e,right:f,bottom:g,width:a.clientWidth,height:a.clientHeight}}function Zt(a){return a.reduce((a,b)=>ue(a,rt(b)),K)}function _n(a){return a.reduce((a,b)=>a+qt(b),0)}function qn(a){return a.reduce((a,b)=>a+Gt(b),0)}function en(a,b){if(void 0===b&&(b=Oe),!!a){var{top:c,left:d,bottom:e,right:f}=b(a);_t(a)&&(0>=e||0>=f||c>=window.innerHeight||d>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}}var Gn=[["x",["left","right"],_n],["y",["top","bottom"],qn]];class ut{constructor(b,c){var d=this;this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;var e=ct(c),g=Zt(e);this.rect=_objectSpread({},b),this.width=b.width,this.height=b.height;var f=function _loop(b,c){var a=function _loop2(a){Object.defineProperty(d,a,{get:()=>{var h=c(e),i=g[b]-h;return d.rect[a]+i},enumerable:!0})};for(var f of j)a(f)};for(var[h,j,k]of Gn)f(h,k);Object.defineProperty(this,"rect",{enumerable:!1})}}class we{constructor(a){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var b;return null==(b=this.target)?void 0:b.removeEventListener(...a)})},this.target=a}add(a,b,c){var d;null==(d=this.target)||d.addEventListener(a,b,c),this.listeners.push([a,b,c])}}function Jn(a){var{EventTarget:b}=I(a);return a instanceof b?a:he(a)}function et(a,b){var c=Math.abs(a.x),d=Math.abs(a.y);return"number"==typeof b?Math.sqrt(c**2+d**2)>b:"x"in b&&"y"in b?c>b.x&&d>b.y:"x"in b?c>b.x:!!("y"in b)&&d>b.y}var F;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(F||(F={}));function Lt(a){a.preventDefault()}function Qn(a){a.stopPropagation()}var D;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter"})(D||(D={}));var tn={start:[D.Space,D.Enter],cancel:[D.Esc],end:[D.Space,D.Enter]},Zn=(a,b)=>{var{currentCoordinates:c}=b;switch(a.code){case D.Right:return _objectSpread(_objectSpread({},c),{},{x:c.x+25});case D.Left:return _objectSpread(_objectSpread({},c),{},{x:c.x-25});case D.Down:return _objectSpread(_objectSpread({},c),{},{y:c.y+25});case D.Up:return _objectSpread(_objectSpread({},c),{},{y:c.y-25})}};class nn{constructor(a){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=a;var{event:{target:b}}=a;this.props=a,this.listeners=new we(he(b)),this.windowListeners=new we(I(b)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(F.Resize,this.handleCancel),this.windowListeners.add(F.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(F.Keydown,this.handleKeyDown))}handleStart(){var{activeNode:a,onStart:b}=this.props,c=a.node.current;c&&en(c),b(K)}handleKeyDown(c){if(lt(c)){var{active:e,context:j,options:n}=this.props,{keyboardCodes:o=tn,coordinateGetter:i=Zn,scrollBehavior:q="smooth"}=n,{code:a}=c;if(o.end.includes(a))return void this.handleEnd(c);if(o.cancel.includes(a))return void this.handleCancel(c);var{collisionRect:l}=j.current,r=l?{x:l.left,y:l.top}:K;this.referenceCoordinates||(this.referenceCoordinates=r);var f=i(c,{active:e,context:j.current,currentCoordinates:r});if(f){var d=$e(f,r),s={x:0,y:0},{scrollableAncestors:h}=j.current;for(var t of h){var u=c.code,{isTop:v,isRight:z,isLeft:A,isBottom:B,maxScroll:C,minScroll:F}=Qt(t),G=Vn(t),I={x:Math.min(u===D.Right?G.right-G.width/2:G.right,Math.max(u===D.Right?G.left:G.left+G.width/2,f.x)),y:Math.min(u===D.Down?G.bottom-G.height/2:G.bottom,Math.max(u===D.Down?G.top:G.top+G.height/2,f.y))},J=u===D.Right&&!z||u===D.Left&&!A,L=u===D.Down&&!B||u===D.Up&&!v;if(J&&I.x!==f.x){var M=t.scrollLeft+d.x,P=u===D.Right&&M<=C.x||u===D.Left&&M>=F.x;if(P&&!d.y)return void t.scrollTo({left:M,behavior:q});s.x=P?t.scrollLeft-M:u===D.Right?t.scrollLeft-C.x:t.scrollLeft-F.x,s.x&&t.scrollBy({left:-s.x,behavior:q});break}else if(L&&I.y!==f.y){var Q=t.scrollTop+d.y,T=u===D.Down&&Q<=C.y||u===D.Up&&Q>=F.y;if(T&&!d.x)return void t.scrollTo({top:Q,behavior:q});s.y=T?t.scrollTop-Q:u===D.Down?t.scrollTop-C.y:t.scrollTop-F.y,s.y&&t.scrollBy({top:-s.y,behavior:q});break}}this.handleMove(c,ue($e(f,this.referenceCoordinates),s))}}}handleMove(a,b){var{onMove:c}=this.props;a.preventDefault(),c(b)}handleEnd(a){var{onEnd:b}=this.props;a.preventDefault(),this.detach(),b()}handleCancel(a){var{onCancel:b}=this.props;a.preventDefault(),this.detach(),b()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nn.activators=[{eventName:"onKeyDown",handler:(b,c,d)=>{var{keyboardCodes:f=tn,onActivation:e}=c,{active:g}=d,{code:h}=b.nativeEvent;if(f.start.includes(h)){var i=g.activatorNode.current;return!(i&&b.target!==i)&&(b.preventDefault(),null==e||e({event:b.nativeEvent}),!0)}return!1}}];function It(a){return!!(a&&"distance"in a)}function Pt(a){return!!(a&&"delay"in a)}class dt{constructor(a,b,c){var d;void 0===c&&(c=Jn(a.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=a,this.events=b;var{event:e}=a,{target:f}=e;this.props=a,this.events=b,this.document=he(f),this.documentListeners=new we(this.document),this.listeners=new we(c),this.windowListeners=new we(I(f)),this.initialCoordinates=null==(d=Ye(e))?K:d,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){var{events:a,props:{options:{activationConstraint:b,bypassActivationConstraint:c}}}=this;if(this.listeners.add(a.move.name,this.handleMove,{passive:!1}),this.listeners.add(a.end.name,this.handleEnd),this.windowListeners.add(F.Resize,this.handleCancel),this.windowListeners.add(F.DragStart,Lt),this.windowListeners.add(F.VisibilityChange,this.handleCancel),this.windowListeners.add(F.ContextMenu,Lt),this.documentListeners.add(F.Keydown,this.handleKeydown),b){if(null!=c&&c({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Pt(b))return void(this.timeoutId=setTimeout(this.handleStart,b.delay));if(It(b))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){var{initialCoordinates:a}=this,{onStart:b}=this.props;a&&(this.activated=!0,this.documentListeners.add(F.Click,Qn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(F.SelectionChange,this.removeTextSelection),b(a))}handleMove(b){var c,{activated:d,initialCoordinates:e,props:f}=this,{onMove:g,options:{activationConstraint:h}}=f;if(e){var a=null==(c=Ye(b))?K:c,i=$e(e,a);if(!d&&h){if(It(h)){if(null!=h.tolerance&&et(i,h.tolerance))return this.handleCancel();if(et(i,h.distance))return this.handleStart()}return Pt(h)&&et(i,h.tolerance)?this.handleCancel():void 0}b.cancelable&&b.preventDefault(),g(a)}}handleEnd(){var{onEnd:a}=this.props;this.detach(),a()}handleCancel(){var{onCancel:a}=this.props;this.detach(),a()}handleKeydown(a){a.code===D.Esc&&this.handleCancel()}removeTextSelection(){var a;null==(a=this.document.getSelection())||a.removeAllRanges()}}var er={move:{name:"pointermove"},end:{name:"pointerup"}};class rn extends dt{constructor(a){var{event:b}=a,c=he(b.target);super(a,er,c)}}rn.activators=[{eventName:"onPointerDown",handler:(a,b)=>{var{nativeEvent:c}=a,{onActivation:d}=b;return!!(c.isPrimary&&0===c.button)&&(null==d||d({event:c}),!0)}}];var ot,tr={move:{name:"mousemove"},end:{name:"mouseup"}};(function(a){a[a.RightClick=2]="RightClick"})(ot||(ot={}));class nr extends dt{constructor(a){super(a,tr,he(a.event.target))}}nr.activators=[{eventName:"onMouseDown",handler:(a,b)=>{var{nativeEvent:c}=a,{onActivation:d}=b;return c.button!==ot.RightClick&&(null==d||d({event:c}),!0)}}];var tt={move:{name:"touchmove"},end:{name:"touchend"}};class rr extends dt{constructor(a){super(a,tt)}static setup(){function a(){}return window.addEventListener(tt.move.name,a,{capture:!1,passive:!1}),function(){window.removeEventListener(tt.move.name,a)}}}rr.activators=[{eventName:"onTouchStart",handler:(a,b)=>{var{nativeEvent:c}=a,{onActivation:d}=b,{touches:e}=c;return!(1<e.length)&&(null==d||d({event:c}),!0)}}];var xe;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(xe||(xe={}));var Xe;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xe||(Xe={}));function or(j){var{acceleration:e,activator:p=xe.Pointer,canScroll:q,draggingRect:k,enabled:o,interval:n=5,order:s=Xe.TreeOrder,pointerCoordinates:i,scrollableAncestors:l,scrollableAncestorRects:r,delta:f,threshold:d}=j,a=sr({delta:f,disabled:!o}),[h,t]=yn(),g=c.useRef({x:0,y:0}),b=c.useRef({x:0,y:0}),m=c.useMemo(()=>p===xe.Pointer?i?{top:i.y,bottom:i.y,left:i.x,right:i.x}:null:p===xe.DraggableRect?k:void 0,[p,k,i]),u=c.useRef(null),v=c.useCallback(()=>{var a=u.current;if(a){var c=g.current.x*b.current.x,d=g.current.y*b.current.y;a.scrollBy(c,d)}},[]),x=c.useMemo(()=>s===Xe.TreeOrder?[...l].reverse():l,[s,l]);c.useEffect(()=>{if(!o||!l.length||!m)return void t();for(var c of x)if(!1!==(null==q?void 0:q(c))){var f=l.indexOf(c),i=r[f];if(i){var{direction:j,speed:s}=Hn(c,i,m,e,d);for(var y of["x","y"])a[y][j[y]]||(s[y]=0,j[y]=0);if(0<s.x||0<s.y)return t(),u.current=c,h(v,n),g.current=s,void(b.current=j)}}g.current={x:0,y:0},b.current={x:0,y:0},t()},[e,v,q,t,o,n,JSON.stringify(m),JSON.stringify(a),h,l,x,r,JSON.stringify(d)])}var ir={x:{[T.Backward]:!1,[T.Forward]:!1},y:{[T.Backward]:!1,[T.Forward]:!1}};function sr(a){var{delta:b,disabled:c}=a,d=Fe(b);return Me(a=>{if(c||!d||!a)return ir;var e={x:Math.sign(b.x-d.x),y:Math.sign(b.y-d.y)};return{x:{[T.Backward]:a.x[T.Backward]||-1===e.x,[T.Forward]:a.x[T.Forward]||1===e.x},y:{[T.Backward]:a.y[T.Backward]||-1===e.y,[T.Forward]:a.y[T.Forward]||1===e.y}}},[c,b,d])}function ar(a,b){var c=null===b?void 0:a.get(b),d=c?c.node.current:null;return Me(a=>{var c;return null===b?null:null==(c=null!==d&&void 0!==d?d:a)?null:c},[d,b])}function lr(a,b){return c.useMemo(()=>a.reduce((a,c)=>{var{sensor:d}=c,e=d.activators.map(a=>({eventName:a.eventName,handler:b(a.handler,c)}));return[...a,...e]},[]),[a,b])}var Se;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(Se||(Se={}));var it;(function(a){a.Optimized="optimized"})(it||(it={}));var Bt=new Map;function cr(j,e){function k(){return l!==Se.Always&&(l===Se.BeforeDragging?b:!b)}var{dragging:b,dependencies:m,config:n}=e,[o,i]=c.useState(null),{frequency:p,measure:a,strategy:l}=n,q=c.useRef(j),f=k(),d=De(f),r=c.useCallback(function(a){void 0===a&&(a=[]),d.current||i(b=>null===b?a:b.concat(a.filter(a=>!b.includes(a))))},[d]),h=c.useRef(null),s=Me(c=>{if(f&&!b)return Bt;if(!c||c===Bt||q.current!==j||null!=o){var d=new Map;for(var e of j)if(e){if(o&&0<o.length&&!o.includes(e.id)&&e.rect.current){d.set(e.id,e.rect.current);continue}var g=e.node.current,h=g?new ut(a(g),g):null;e.rect.current=h,h&&d.set(e.id,h)}return d}return c},[j,o,b,f,a]);return c.useEffect(()=>{q.current=j},[j]),c.useEffect(()=>{f||r()},[b,f]),c.useEffect(()=>{o&&0<o.length&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{f||"number"!=typeof p||null!==h.current||(h.current=setTimeout(()=>{r(),h.current=null},p))},[p,f,r,...m]),{droppableRects:s,measureDroppableContainers:r,measuringScheduled:null!=o}}function ft(a,b){return Me(c=>a?c||("function"==typeof b?b(a):a):null,[b,a])}function ur(a,b){return ft(a,b)}function dr(a){var{callback:b,disabled:d}=a,e=Ue(b),f=c.useMemo(()=>{if(!(d||"u"<typeof window||"u"<typeof window.MutationObserver)){var{MutationObserver:a}=window;return new a(e)}},[e,d]);return c.useEffect(()=>()=>null==f?void 0:f.disconnect(),[f]),f}function He(a){var{callback:b,disabled:d}=a,e=Ue(b),f=c.useMemo(()=>{if(!(d||"u"<typeof window||"u"<typeof window.ResizeObserver)){var{ResizeObserver:a}=window;return new a(e)}},[d]);return c.useEffect(()=>()=>null==f?void 0:f.disconnect(),[f]),f}function fr(a){return new ut(Oe(a),a)}function zt(b,d,e){function f(a){if(!b)return null;if(!1===b.isConnected){var c;return null==(c=null!==a&&void 0!==a?a:e)?null:c}var g=d(b);return JSON.stringify(a)===JSON.stringify(g)?a:g}void 0===d&&(d=fr);var[a,g]=c.useReducer(f,null),h=dr({callback(a){if(b)for(var c of a){var{type:e,target:h}=c;if("childList"===e&&h instanceof HTMLElement&&h.contains(b)){g();break}}}}),i=He({callback:g});return W(()=>{g(),b?(null==i||i.observe(b),null==h||h.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==h||h.disconnect())},[b]),a}function hr(a){var b=ft(a);return Ht(a,b)}var Ft=[];function gr(a){var b=c.useRef(a),d=Me(c=>a?c&&c!==Ft&&a&&b.current&&a.parentNode===b.current.parentNode?c:ct(a):Ft,[a]);return c.useEffect(()=>{b.current=a},[a]),d}function vr(b){var[a,d]=c.useState(null),e=c.useRef(b),f=c.useCallback(a=>{var b=Ze(a.target);b&&d(c=>c?(c.set(b,rt(b)),new Map(c)):null)},[]);return c.useEffect(()=>{function c(b){b.forEach(a=>{var b=Ze(a);null==b||b.removeEventListener("scroll",f)})}var g=e.current;if(b!==g){c(g);var h=b.map(a=>{var b=Ze(a);return b?(b.addEventListener("scroll",f,{passive:!0}),[b,rt(b)]):null}).filter(a=>null!=a);d(h.length?new Map(h):null),e.current=b}return()=>{c(b),c(g)}},[f,b]),c.useMemo(()=>b.length?a?Array.from(a.values()).reduce((a,b)=>ue(a,b),K):Zt(b):K,[b,a])}function $t(a,b){void 0===b&&(b=[]);var d=c.useRef(null);return c.useEffect(()=>{d.current=null},b),c.useEffect(()=>{var b=a!==K;b&&!d.current&&(d.current=a),!b&&d.current&&(d.current=null)},[a]),d.current?$e(a,d.current):K}function br(a){c.useEffect(()=>{if(Ke){var b=a.map(a=>{var{sensor:b}=a;return null==b.setup?void 0:b.setup()});return()=>{for(var a of b)null==a||a()}}},a.map(a=>{var{sensor:b}=a;return b}))}function pr(a,b){return c.useMemo(()=>a.reduce((a,c)=>{var{eventName:d,handler:e}=c;return a[d]=a=>{e(a,b)},a},{}),[a,b])}function on(a){return c.useMemo(()=>a?Xn(a):null,[a])}var nt=[];function mr(b,d){function e(){return b.length?b.map(a=>Jt(a)?f:new ut(d(a),a)):nt}void 0===d&&(d=Oe);var[a]=b,f=on(a?I(a):null),[g,h]=c.useReducer(e,nt),i=He({callback:h});return 0<b.length&&g===nt&&h(),W(()=>{b.length?b.forEach(a=>null==i?void 0:i.observe(a)):(null==i||i.disconnect(),h())},[b]),g}function sn(a){if(!a)return null;if(1<a.children.length)return a;var b=a.children[0];return Ee(b)?b:a}function yr(b){var{measure:e}=b,[d,g]=c.useState(null),f=c.useCallback(a=>{var b=function _loop3(a){if(Ee(a))return g(b=>{var c=e(a);return b?_objectSpread(_objectSpread({},b),{},{width:c.width,height:c.height}):c}),1;// break
};for(var{target:c}of a)if(b(c))break},[e]),h=He({callback:f}),i=c.useCallback(a=>{var b=sn(a);null==h||h.disconnect(),b&&(null==h||h.observe(b)),g(b?e(b):null)},[e,h]),[j,a]=ze(i);return c.useMemo(()=>({nodeRef:j,rect:d,setRef:a}),[d,j,a])}var wr=[{sensor:rn,options:{}},{sensor:nn,options:{}}],xr={current:{}},Be={draggable:{measure:kt},droppable:{measure:kt,strategy:Se.WhileDragging,frequency:it.Optimized},dragOverlay:{measure:Oe}};class Ce extends Map{get(a){var b;return null!=a&&null!=(b=super.get(a))?b:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(a=>{var{disabled:b}=a;return!b})}getNodeFor(a){var b,c;return null==(b=null==(c=this.get(a))?void 0:c.node.current)?void 0:b}}var Cr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ce,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:je},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Be,measureDroppableContainers:je,windowRect:null,measuringScheduled:!1},an={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:je,draggableNodes:new Map,over:null,measureDroppableContainers:je},Ae=c.createContext(an),ln=c.createContext(Cr);function Dr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ce}}}function Rr(a,b){switch(b.type){case A.DragStart:return _objectSpread(_objectSpread({},a),{},{draggable:_objectSpread(_objectSpread({},a.draggable),{},{initialCoordinates:b.initialCoordinates,active:b.active})});case A.DragMove:return a.draggable.active?_objectSpread(_objectSpread({},a),{},{draggable:_objectSpread(_objectSpread({},a.draggable),{},{translate:{x:b.coordinates.x-a.draggable.initialCoordinates.x,y:b.coordinates.y-a.draggable.initialCoordinates.y}})}):a;case A.DragEnd:case A.DragCancel:return _objectSpread(_objectSpread({},a),{},{draggable:_objectSpread(_objectSpread({},a.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case A.RegisterDroppable:{var{element:c}=b,{id:d}=c,e=new Ce(a.droppable.containers);return e.set(d,c),_objectSpread(_objectSpread({},a),{},{droppable:_objectSpread(_objectSpread({},a.droppable),{},{containers:e})})}case A.SetDroppableDisabled:{var{id:f,key:g,disabled:h}=b,j=a.droppable.containers.get(f);if(!j||g!==j.key)return a;var i=new Ce(a.droppable.containers);return i.set(f,_objectSpread(_objectSpread({},j),{},{disabled:h})),_objectSpread(_objectSpread({},a),{},{droppable:_objectSpread(_objectSpread({},a.droppable),{},{containers:i})})}case A.UnregisterDroppable:{var{id:k,key:l}=b,m=a.droppable.containers.get(k);if(!m||l!==m.key)return a;var n=new Ce(a.droppable.containers);return n.delete(k),_objectSpread(_objectSpread({},a),{},{droppable:_objectSpread(_objectSpread({},a.droppable),{},{containers:n})})}default:return a}}function Sr(a){var{disabled:b}=a,{active:d,activatorEvent:e,draggableNodes:f}=c.useContext(Ae),g=Fe(e),h=Fe(null==d?void 0:d.id);return c.useEffect(()=>{if(!b&&!e&&g&&null!=h){if(!lt(g)||document.activeElement===g.target)return;var c=f.get(h);if(!c)return;var{activatorNode:a,node:i}=c;if(!a.current&&!i.current)return;requestAnimationFrame(()=>{for(var b of[a.current,i.current])if(b){var c=Cn(b);if(c){c.focus();break}}})}},[e,b,f,h,g]),null}function cn(a,b){var{transform:c}=b,d=_objectWithoutProperties(b,_excluded);return null!=a&&a.length?a.reduce((a,b)=>b(_objectSpread({transform:a},d)),c):c}function Er(a){return c.useMemo(()=>({draggable:_objectSpread(_objectSpread({},Be.draggable),null==a?void 0:a.draggable),droppable:_objectSpread(_objectSpread({},Be.droppable),null==a?void 0:a.droppable),dragOverlay:_objectSpread(_objectSpread({},Be.dragOverlay),null==a?void 0:a.dragOverlay)}),[null==a?void 0:a.draggable,null==a?void 0:a.droppable,null==a?void 0:a.dragOverlay])}function Mr(b){var{activeNode:e,measure:g,initialRect:h,config:d=!0}=b,j=c.useRef(!1),{x:i,y:k}="boolean"==typeof d?{x:d,y:d}:d;W(()=>{if(!i&&!k||!e)return void(j.current=!1);if(!j.current&&h){var a=null==e?void 0:e.node.current;if(a&&!1!==a.isConnected){var b=g(a),c=Ht(b,h);if(i||(c.x=0),k||(c.y=0),j.current=!0,0<Math.abs(c.x)||0<Math.abs(c.y)){var d=_t(a);d&&d.scrollBy({top:c.y,left:c.x})}}}},[e,i,k,h,g])}var Z,Ve=c.createContext(_objectSpread(_objectSpread({},K),{},{scaleX:1,scaleY:1}));(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})(Z||(Z={}));var Zr=c.memo(function(e){function j(){var a=!1===(null==q?void 0:q.autoScrollEnabled),b="object"==typeof h?!1===h.enabled:!1===h,c=N&&!a&&!b;return"object"==typeof h?_objectSpread(_objectSpread({},h),{},{enabled:c}):{enabled:c}}var t,z,B,D,{id:F,accessibility:s,autoScroll:h=!0,children:a,sensors:l=wr,collisionDetection:f=Bn,measuring:u,modifiers:v}=e,d=_objectWithoutProperties(e,_excluded2),C=c.useReducer(Rr,void 0,Dr),[g,b]=C,[m,x]=On(),[y,K]=c.useState(Z.Uninitialized),N=y===Z.Initialized,{draggable:{active:P,nodes:p,translate:w},droppable:{containers:E}}=g,k=P?p.get(P):null,O=c.useRef({initial:null,translated:null}),H=c.useMemo(()=>{var a;return null==P?null:{id:P,data:null==(a=null==k?void 0:k.data)?xr:a,rect:O}},[P,k]),R=c.useRef(null),[q,Q]=c.useState(null),[L,S]=c.useState(null),T=De(d,Object.values(d)),U=We("DndDescribedBy",F),V=c.useMemo(()=>E.getEnabled(),[E]),X=Er(u),{droppableRects:_,measureDroppableContainers:aa,measuringScheduled:ba}=cr(V,{dragging:N,dependencies:[w.x,w.y],config:X.droppable}),ca=ar(p,P),$=c.useMemo(()=>L?Ye(L):null,[L]),da=j(),ea=ur(ca,X.draggable.measure);Mr({activeNode:P?p.get(P):null,config:da.layoutShiftCompensation,initialRect:ea,measure:X.draggable.measure});var fa=zt(ca,X.draggable.measure,ea),Y=zt(ca?ca.parentElement:null),ga=c.useRef({activatorEvent:null,active:null,activeNode:ca,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:p,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ha=E.getNodeFor(null==(t=ga.current.over)?void 0:t.id),ia=yr({measure:X.dragOverlay.measure}),ja=null==(z=ia.nodeRef.current)?ca:z,ka=N?null==(B=ia.rect)?fa:B:null,la=!!(ia.nodeRef.current&&ia.rect),ma=hr(la?null:fa),na=on(ja?I(ja):null),oa=gr(N?null!==ha&&void 0!==ha?ha:ca:null),G=mr(oa),pa=cn(v,{transform:{x:w.x-ma.x,y:w.y-ma.y,scaleX:1,scaleY:1},activatorEvent:L,active:H,activeNodeRect:fa,containerNodeRect:Y,draggingNodeRect:ka,over:ga.current.over,overlayNodeRect:ia.rect,scrollableAncestors:oa,scrollableAncestorRects:G,windowRect:na}),qa=$?ue($,w):null,ra=vr(oa),sa=$t(ra),ta=$t(ra,[fa]),ua=ue(pa,sa),va=ka?$n(ka,pa):null,wa=H&&va?f({active:H,collisionRect:va,droppableRects:_,droppableContainers:V,pointerCoordinates:qa}):null,xa=In(wa,"id"),[ya,J]=c.useState(null),za=la?pa:ue(pa,ta),Aa=zn(za,null==(D=null==ya?void 0:ya.rect)?null:D,fa),Ba=c.useCallback((a,c)=>{function d(a){return/*#__PURE__*/_asyncToGenerator(function*(){var{active:c,collisions:d,over:e,scrollAdjustedTranslate:f}=ga.current,g=null;if(c&&f){var{cancelDrop:i}=T.current;g={activatorEvent:h,active:c,collisions:d,delta:f,over:e},a===A.DragEnd&&"function"==typeof i&&(yield Promise.resolve(i(g)))&&(a=A.DragCancel)}R.current=null,le.unstable_batchedUpdates(()=>{b({type:a}),K(Z.Uninitialized),J(null),Q(null),S(null);var c=a===A.DragEnd?"onDragEnd":"onDragCancel";if(g){var d=T.current[c];null==d||d(g),m({type:c,event:g})}})})}var{sensor:e,options:f}=c;if(null!=R.current){var g=p.get(R.current);if(g){var h=a.nativeEvent,i=new e({active:R.current,activeNode:g,event:h,options:f,context:ga,onStart(a){var c=R.current;if(null!=c){var d=p.get(c);if(d){var{onDragStart:e}=T.current,f={active:{id:c,data:d.data,rect:O}};le.unstable_batchedUpdates(()=>{null==e||e(f),K(Z.Initializing),b({type:A.DragStart,initialCoordinates:a,active:c}),m({type:"onDragStart",event:f})})}}},onMove(a){b({type:A.DragMove,coordinates:a})},onEnd:d(A.DragEnd),onCancel:d(A.DragCancel)});le.unstable_batchedUpdates(()=>{Q(i),S(a.nativeEvent)})}}},[p]),Ca=c.useCallback((a,b)=>(c,d)=>{var e=c.nativeEvent,f=p.get(d);if(!(null!==R.current||!f||e.dndKit||e.defaultPrevented)){var g={active:f};!0===a(c,b.options,g)&&(e.dndKit={capturedBy:b.sensor},R.current=d,Ba(c,b))}},[p,Ba]),Da=lr(l,Ca);br(l),W(()=>{fa&&y===Z.Initializing&&K(Z.Initialized)},[fa,y]),c.useEffect(()=>{var{onDragMove:a}=T.current,{active:b,activatorEvent:c,collisions:d,over:e}=ga.current;if(b&&c){var f={active:b,activatorEvent:c,collisions:d,delta:{x:ua.x,y:ua.y},over:e};le.unstable_batchedUpdates(()=>{null==a||a(f),m({type:"onDragMove",event:f})})}},[ua.x,ua.y]),c.useEffect(()=>{var{active:a,activatorEvent:b,collisions:c,droppableContainers:d,scrollAdjustedTranslate:e}=ga.current;if(a&&null!=R.current&&b&&e){var{onDragOver:f}=T.current,g=d.get(xa),h=g&&g.rect.current?{id:g.id,rect:g.rect.current,data:g.data,disabled:g.disabled}:null,i={active:a,activatorEvent:b,collisions:c,delta:{x:e.x,y:e.y},over:h};le.unstable_batchedUpdates(()=>{J(h),null==f||f(i),m({type:"onDragOver",event:i})})}},[xa]),W(()=>{ga.current={activatorEvent:L,active:H,activeNode:ca,collisionRect:va,collisions:wa,droppableRects:_,draggableNodes:p,draggingNode:ja,draggingNodeRect:ka,droppableContainers:E,over:ya,scrollableAncestors:oa,scrollAdjustedTranslate:ua},O.current={initial:ka,translated:va}},[H,ca,wa,va,p,ja,ka,_,E,ya,oa,ua]),or(_objectSpread(_objectSpread({},da),{},{delta:w,draggingRect:va,pointerCoordinates:qa,scrollableAncestors:oa,scrollableAncestorRects:G}));var Ea=c.useMemo(()=>({active:H,activeNode:ca,activeNodeRect:fa,activatorEvent:L,collisions:wa,containerNodeRect:Y,dragOverlay:ia,draggableNodes:p,droppableContainers:E,droppableRects:_,over:ya,measureDroppableContainers:aa,scrollableAncestors:oa,scrollableAncestorRects:G,measuringConfiguration:X,measuringScheduled:ba,windowRect:na}),[H,ca,fa,L,wa,Y,ia,p,E,_,ya,aa,oa,G,X,ba,na]),Fa=c.useMemo(()=>({activatorEvent:L,activators:Da,active:H,activeNodeRect:fa,ariaDescribedById:{draggable:U},dispatch:b,draggableNodes:p,over:ya,measureDroppableContainers:aa}),[L,Da,H,fa,b,U,p,ya,aa]);return M.createElement(Wt.Provider,{value:x},M.createElement(Ae.Provider,{value:Fa},M.createElement(ln.Provider,{value:Ea},M.createElement(Ve.Provider,{value:Aa},a)),M.createElement(Sr,{disabled:!1===(null==s?void 0:s.restoreFocus)})),M.createElement(Tn,_objectSpread(_objectSpread({},s),{},{hiddenTextDescribedById:U})))}),Or=c.createContext(null),Yt="button",Ar="Droppable";function eo(j){var{id:e,data:k,disabled:o=!1,attributes:n}=j,q=We(Ar),{activators:i,activatorEvent:r,active:a,activeNodeRect:l,ariaDescribedById:s,draggableNodes:f,over:d}=c.useContext(Ae),{role:t=Yt,roleDescription:h="draggable",tabIndex:u=0}=null!==n&&void 0!==n?n:{},g=(null==a?void 0:a.id)===e,b=c.useContext(g?Ve:Or),[m,v]=ze(),[x,y]=ze(),z=pr(i,e),A=De(k);W(()=>(f.set(e,{id:e,key:q,node:m,activatorNode:x,data:A}),()=>{var a=f.get(e);a&&a.key===q&&f.delete(e)}),[f,e]);var p=c.useMemo(()=>({role:t,tabIndex:u,"aria-disabled":o,"aria-pressed":!!(g&&t===Yt)||void 0,"aria-roledescription":h,"aria-describedby":s.draggable}),[o,t,u,g,h,s.draggable]);return{active:a,activatorEvent:r,activeNodeRect:l,attributes:p,isDragging:g,listeners:o?void 0:z,node:m,over:d,setNodeRef:v,setActivatorNodeRef:y,transform:b}}function Nr(){return c.useContext(ln)}var Tr="Droppable",kr={timeout:25};function Lr(j){var{data:e,disabled:o=!1,id:k,resizeObserverConfig:q}=j,n=We(Tr),{active:i,dispatch:r,over:a,measureDroppableContainers:l}=c.useContext(Ae),s=c.useRef({disabled:o}),f=c.useRef(!1),d=c.useRef(null),t=c.useRef(null),{disabled:h,updateMeasurementsFor:u,timeout:g}=_objectSpread(_objectSpread({},kr),q),b=De(null!==u&&void 0!==u?u:k),m=c.useCallback(()=>f.current?void(null!=t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{l(Array.isArray(b.current)?b.current:[b.current]),t.current=null},g)):void(f.current=!0),[g]),v=He({callback:m,disabled:h||!i}),w=c.useCallback((a,b)=>{v&&(b&&(v.unobserve(b),f.current=!1),a&&v.observe(a))},[v]),[x,y]=ze(w),z=De(e);return c.useEffect(()=>{v&&x.current&&(v.disconnect(),f.current=!1,v.observe(x.current))},[x,v]),W(()=>(r({type:A.RegisterDroppable,element:{id:k,key:n,disabled:o,node:x,rect:d,data:z}}),()=>r({type:A.UnregisterDroppable,key:n,id:k})),[k]),c.useEffect(()=>{o!==s.current.disabled&&(r({type:A.SetDroppableDisabled,id:k,key:n,disabled:o}),s.current.disabled=o)},[k,n,o,r]),{active:i,rect:d,isOver:(null==a?void 0:a.id)===k,node:x,over:a,setNodeRef:y}}function Ir(b){var{animation:d,children:e}=b,[f,g]=c.useState(null),[h,i]=c.useState(null),j=Fe(e);return!e&&!f&&j&&g(j),W(()=>{if(h){var a=null==f?void 0:f.key,b=null==f?void 0:f.props.id;return null==a||null==b?void g(null):void Promise.resolve(d(b,h)).then(()=>{g(null)})}},[d,f,h]),M.createElement(M.Fragment,null,e,f?c.cloneElement(f,{ref:i}):null)}var Pr={x:0,y:0,scaleX:1,scaleY:1};function Br(a){var{children:b}=a;return M.createElement(Ae.Provider,{value:an},M.createElement(Ve.Provider,{value:Pr},b))}var zr={position:"fixed",touchAction:"none"},Fr=a=>lt(a)?"transform 250ms ease":void 0,$r=c.forwardRef((b,c)=>{var{as:e,activatorEvent:g,adjustScale:h,children:j,className:i,rect:k,style:a,transform:l,transition:m=Fr}=b;if(!k)return null;var f=h?l:_objectSpread(_objectSpread({},l),{},{scaleX:1,scaleY:1}),d=_objectSpread(_objectSpread({},zr),{},{width:k.width,height:k.height,top:k.top,left:k.left,transform:Re.Transform.toString(f),transformOrigin:h&&g?kn(g,k):void 0,transition:"function"==typeof m?m(g):m},a);return M.createElement(e,{className:i,style:d,ref:c},j)}),Yr=b=>c=>{var{active:d,dragOverlay:e}=c,f={},{styles:g,className:h}=b;if(null!=g&&g.active)for(var[i,j]of Object.entries(g.active))void 0!==j&&(f[i]=d.node.style.getPropertyValue(i),d.node.style.setProperty(i,j));if(null!=g&&g.dragOverlay)for(var[k,m]of Object.entries(g.dragOverlay))void 0!==m&&e.node.style.setProperty(k,m);return null!=h&&h.active&&d.node.classList.add(h.active),null!=h&&h.dragOverlay&&e.node.classList.add(h.dragOverlay),function(){for(var[a,b]of Object.entries(f))d.node.style.setProperty(a,b);null!=h&&h.active&&d.node.classList.remove(h.active)}},jr=a=>{var{transform:{initial:b,final:c}}=a;return[{transform:Re.Transform.toString(b)},{transform:Re.Transform.toString(c)}]},Xr={duration:250,easing:"ease",keyframes:jr,sideEffects:Yr({styles:{active:{opacity:"0"}}})};function Kr(a){var{config:b,draggableNodes:c,droppableContainers:e,measuringConfiguration:f}=a;return Ue((g,h)=>{if(null!==b){var i=c.get(g);if(i){var a=i.node.current;if(a){var j=sn(h);if(j){var{transform:k}=I(h).getComputedStyle(h),l=Vt(k);if(l){var d="function"==typeof b?b:Ur(b);return en(a,f.draggable.measure),d({active:{id:g,data:i.data,node:a,rect:f.draggable.measure(a)},draggableNodes:c,dragOverlay:{node:h,rect:f.dragOverlay.measure(j)},droppableContainers:e,measuringConfiguration:f,transform:l})}}}}}})}function Ur(a){var{duration:c,easing:d,sideEffects:e,keyframes:i}=_objectSpread(_objectSpread({},Xr),a);return j=>{var{active:k,dragOverlay:n,transform:a}=j,l=_objectWithoutProperties(j,_excluded3);if(c){var o={x:n.rect.left-k.rect.left,y:n.rect.top-k.rect.top},f={scaleX:1===a.scaleX?1:k.rect.width*a.scaleX/n.rect.width,scaleY:1===a.scaleY?1:k.rect.height*a.scaleY/n.rect.height},p=_objectSpread({x:a.x-o.x,y:a.y-o.y},f),q=i(_objectSpread(_objectSpread({},l),{},{active:k,dragOverlay:n,transform:{initial:a,final:p}})),[h]=q,r=q[q.length-1];if(JSON.stringify(h)!==JSON.stringify(r)){var g=null==e?void 0:e(_objectSpread({active:k,dragOverlay:n},l)),b=n.node.animate(q,{duration:c,easing:d,fill:"forwards"});return new Promise(a=>{b.onfinish=()=>{null==g||g(),a()}})}}}}var jt=0;function Wr(a){return c.useMemo(()=>{if(null!=a)return jt++,jt},[a])}var to=M.memo(j=>{var{adjustScale:l=!1,children:e,dropAnimation:n,style:q,transition:o,modifiers:i,wrapperElement:s="div",className:r,zIndex:a=999}=j,{activatorEvent:t,active:f,activeNodeRect:d,containerNodeRect:u,draggableNodes:h,droppableContainers:v,dragOverlay:g,over:b,measuringConfiguration:m,scrollableAncestors:x,scrollableAncestorRects:y,windowRect:z}=Nr(),A=c.useContext(Ve),B=Wr(null==f?void 0:f.id),p=cn(i,{activatorEvent:t,active:f,activeNodeRect:d,containerNodeRect:u,draggingNodeRect:g.rect,over:b,overlayNodeRect:g.rect,scrollableAncestors:x,scrollableAncestorRects:y,transform:A,windowRect:z}),w=ft(d),C=Kr({config:n,draggableNodes:h,droppableContainers:v,measuringConfiguration:m}),k=w?g.setRef:void 0;return M.createElement(Br,null,M.createElement(Ir,{animation:C},f&&B?M.createElement($r,{key:B,id:f.id,ref:k,as:s,activatorEvent:t,adjustScale:l,className:r,transition:o,rect:w,style:_objectSpread({zIndex:a},q),transform:p},e):null))}),de=(a=>(a[a.EMPTY=0]="EMPTY",a[a.NORMAL=1]="NORMAL",a))(de||{}),no={[0]:0,[1]:1};function Hr(a){return ce("div",{className:"Block"+(a.type===de.NORMAL?" Block--normal":"")+(a.isPreview?" Block--preview":"")})}var Vr=.05;function _r(a,b){return Array.from({length:a},(c,d)=>Array.from({length:a},(a,c)=>{var e,f;return null!==(e=null==(f=null==b?void 0:b[d])?void 0:f[c])&&void 0!==e?e:de.EMPTY}))}function Xt(a,b){return"board-cell-".concat(a,"-").concat(b)}function qr(a,b,c,d){var e,f=c-b.rowNum+a.length-1;return null==(e=a[f])?void 0:e[d-b.colNum+a[f].length-1]}function Gr(b,c,d){return c.every((e,f)=>e.every((g,h)=>{var i,j=null==(i=b[d.rowNum-c.length+f+1])?void 0:i[d.colNum-e.length+h+1];return g===de.EMPTY||j===de.EMPTY}))}function ro(b){var a,c,d="".concat(100/(1+b.size*21),"%"),e=_r(b.size,b.state),g=Array.from(null!==(a=b.cellOverlays)&&void 0!==a?a:[]).reduce((b,c)=>{var d,e;return(null!==(d=b[e=Xt(c.rowNum,c.colNum)])&&void 0!==d?d:b[e]=[]).push(c),b},{}),h=b.activePiece&&b.activeCell&&Gr(e,b.activePiece,b.activeCell);return ce("div",{className:"Board ".concat(null!==(c=b.className)&&void 0!==c?c:""),children:ce("div",{className:"Board-grid",style:{gap:d,gridTemplateColumns:"repeat(".concat(b.size,", 1fr)"),padding:d},children:e.map((a,c)=>a.map((e,a)=>{var i=Xt(c,a),j=h?qr(b.activePiece,b.activeCell,c,a):void 0,f=null!=j&&j!==de.EMPTY;return ce(Jr,{blockType:f?j:e,cellRef:0===c&&0===a?b.cellRef:void 0,colNum:a,id:i,isPreview:f,overlays:g[i],rowNum:c},"".concat(c,",").concat(a))}))})})}function Jr(a){var b,{setNodeRef:c}=Lr({data:{colNum:a.colNum,rowNum:a.rowNum},id:a.id});return mn("div",{className:"Board-cell",id:a.id,ref:b=>{c(b),a.cellRef&&(a.cellRef.current=null!==b&&void 0!==b?b:void 0)},children:[ce(Hr,{isPreview:a.isPreview,type:a.blockType}),null==(b=a.overlays)?void 0:b.map(a=>{var b;return ce("div",{className:"Board-cellOverlay ".concat(null!==(b=a.className)&&void 0!==b?b:""),style:{zIndex:a.zIndex},children:a.content},a.key)})]})}export{de as B,Zr as D,ro as a,Vr as b,Hr as c,to as d,_r as g,Gr as p,no as s,eo as u};