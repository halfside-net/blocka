function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return(b=_toPropertyKey(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==typeof b?b:b+""}function _toPrimitive(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function asyncGeneratorStep(b,d,f,e,g,h,a){try{var c=b[h](a),i=c.value}catch(a){return void f(a)}c.done?d(i):Promise.resolve(i).then(e,g)}function _asyncToGenerator(b){return function(){var c=this,d=arguments;return new Promise(function(e,f){function g(a){asyncGeneratorStep(i,e,f,g,h,"next",a)}function h(a){asyncGeneratorStep(i,e,f,g,h,"throw",a)}var i=b.apply(c,d);g(void 0)})}}function Q(a){return Array.from(new Set(a))}function v(a,b){var c,d=X();return null!==(c=d[a])&&void 0!==c?c:d[a]=b}function X(){var a,b,c;return null!==(a=globalThis._vike)&&void 0!==a?a:globalThis._vike={},null!==(b=(c=globalThis._vike).globals)&&void 0!==b?b:c.globals={},globalThis._vike.globals}var y,a=new Proxy({},{get:(a,b)=>a=>"code"===b?"`".concat(a,"`"):"string"===b?"'".concat(a,"'"):a}),U="0.4.247";null!==y&&void 0!==y?y:y=V();function V(){return v("utils/assertSingleInstance.ts",{instances:[],alreadyLogged:new Set})}function $(){return null!==y&&void 0!==y?y:y=V(),y}var Z="Client runtime of both Server Routing and Client Routing loaded https://vike.dev/client-runtimes-conflict",B="Client runtime loaded twice https://vike.dev/client-runtime-duplicated";function G(){var b=$();{var c=Q(b.instances);T(1>=c.length,"vike@".concat(a.bold(c[0])," and vike@").concat(a.bold(c[1])," loaded which is highly discouraged, see ").concat(a.underline("https://vike.dev/warning/version-mismatch")),{onlyOnce:!0,showStackTrace:!1})}b.checkSingleInstance&&1<b.instances.length&&T(!1,B,{onlyOnce:!0,showStackTrace:!0})}function ye(){var a=$();T(!1!==a.isClientRouting,Z,{onlyOnce:!0,showStackTrace:!0}),T(void 0===a.isClientRouting,B,{onlyOnce:!0,showStackTrace:!0}),a.isClientRouting=!0,a.checkSingleInstance=!0,G()}function N(){$().instances.push(U),G()}function T(a,b,d){var{onlyOnce:e,showStackTrace:f}=d,g=$();if(!a){var h="[Vike][Warning] ".concat(b);{var{alreadyLogged:i}=g,j=h;if(i.has(j))return;i.add(j)}console.warn(f?new Error(h):h)}}function M(){return!("u"<typeof process)&&process.cwd&&process.versions&&!("u"<typeof process.versions.node)&&process.release&&"node"===process.release.name}function S(a,b){var c=new Error(a);return M()&&(c.stack=ee(c.stack,b)),c}function ee(a,b){if(!a)return a;var c=te(a),d=0;return c.filter(a=>!(a.includes(" (internal/")||a.includes(" (node:internal"))&&(!(d<b&&ne(a))||(d++,!1))).join("\n")}function ne(a){return a.startsWith("    at ")}function te(a){return a.split(/\r?\n/)}function F(a){return"object"==typeof a&&null!==a}var l=v("utils/assert.ts",{alreadyLogged:new Set,logger(a,b){"info"===b?console.log(a):console.warn(a)},showStackTraceList:new WeakSet});N();var oe="[vike]",re="[vike@".concat("0.4.247","]"),ie="Bug",P=2;function p(b,c){var d;if(!b){var e=(()=>{if(!c)return null;var b="string"==typeof c?c:JSON.stringify(c);return a.dim("Debug for maintainers (you can ignore this): ".concat(b))})(),f=["You stumbled upon a Vike bug. Go to ".concat(a.underline("https://github.com/vikejs/vike/issues/new?template=bug.yml")," and copy-paste this error. A maintainer will fix the bug (usually within 24 hours)."),e].filter(Boolean).join(" ");f=w(f),f=j(f,ie),f=m(f,!0);var g=S(f,P);throw null!==(d=l.onBeforeLog)&&void 0!==d&&d.call(l),g}}function b(a,b){var c,{showStackTrace:d,exitOnError:e}=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};if(!a){d=d||l.alwaysShowStackTrace,b=w(b),b=j(b,"Wrong Usage"),b=m(b);var f=S(b,P);if(d&&l.showStackTraceList.add(f),null!==(c=l.onBeforeLog)&&void 0!==c&&c.call(l),e)console.error(d?f:b),process.exit(1);else throw f}}function se(a){return a=w(a),a=j(a,"Error"),a=m(a),S(a,P)}function ce(a,b,c){var{onlyOnce:d,showStackTrace:e}=c;if(!a){var f;if(e=e||l.alwaysShowStackTrace,b=w(b),b=j(b,"Warning"),b=m(b),d){var{alreadyLogged:g}=l,h=!0===d?b:d;if(g.has(h))return;g.add(h)}if(null!==(f=l.onBeforeLog)&&void 0!==f&&f.call(l),e){var i=S(b,P);l.showStackTraceList.add(i),l.logger(i,"warn")}else l.logger(b,"warn")}}function we(a,b,c){var d,{onlyOnce:e}=c;b=w(b),b=m(b);{var{alreadyLogged:f}=l,g=b;if(f.has(g))return;f.add(g)}null!==(d=l.onBeforeLog)&&void 0!==d&&d.call(l),l.logger(b,"info")}function j(b,c){var d="[".concat(c,"]"),e="Warning"===c?"yellow":"red";return d=a.bold(a[e](d)),"".concat(d).concat(b)}function w(a){return a.startsWith("[")?a:" ".concat(a)}function m(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return"".concat(b?re:oe).concat(a)}function L(a){var b=a/1e3;if(120>b){var c=W(b);return"".concat(c," second").concat(R(c))}{var d=W(b/60);return"".concat(d," minute").concat(R(d))}}function W(a){var b=a.toFixed(1);return b.endsWith(".0")&&(b=b.slice(0,-2)),b}function R(a){return"1"===a?"":"s"}function ae(a){return a instanceof Function||"function"==typeof a}function I(a){return Array.isArray(a)}function me(a,b){var c=b.find(b=>b.pageId===a);return 0<b.length,c}function le(a){if(!a||I(a)||a.definedBy)return null;var{filePathToShowToUser:b}=a;return b}function D(a){return le(a)}var ue=v("hooks/getHook.ts",{});function Te(a,b){if(!(b in a.exports))return null;var{hooksTimeout:c}=a.config,d=q(c,b),e=a.exports[b];if(null===e)return null;var f=a.exportsAll[b][0];f.exportValue;var g=f.filePath;return x(e,b,g,d)}function fe(a,b){var c,{hooksTimeout:d}=b.config,e=q(d,a),f=[];return null!==(c=b.exportsAll[a])&&void 0!==c&&c.forEach(b=>{var d=b.exportValue;if(null!==d){var g=b.filePath;f.push(x(d,a,g,e))}}),f}function ve(a,b){var c=a.configValues[b];if(!(null!==c&&void 0!==c&&c.value))return null;var{hookFn:d,hookFilePath:e}=ge(c),f=z(b);return x(d,b,e,f)}function de(a,b){var d=a.configValues[b];return null!==d&&void 0!==d&&d.value?d.value.map((a,e)=>{var f=z(b);I(d.definedAtData);var c=D(d.definedAtData[e]);return x(a,b,c,f)}):[]}function z(a){return J(a)}function x(a,b,c,d){return he(a,{hookName:b,hookFilePath:c}),{hookFn:a,hookName:b,hookFilePath:c,hookTimeout:d}}function ge(a){var b=a.value,c=D(a.definedAtData);return{hookFn:b,hookFilePath:c}}function he(a,c){var{hookName:d,hookFilePath:e}=c;d.endsWith(")"),e.endsWith(" "),b(ae(a),"Hook ".concat(d,"() defined by ").concat(e," should be a function"))}function q(a,b){var c=ke(a);if(!1===c)return{error:!1,warning:!1};var d=c[b],e=J(b);return void 0!==(null===d||void 0===d?void 0:d.error)&&(e.error=d.error),void 0!==(null===d||void 0===d?void 0:d.warning)&&(e.warning=d.warning),e}function ke(c){if(void 0===c)return{};if(!1===c)return!1;b(F(c),"Setting ".concat(a.cyan("hooksTimeout")," should be ").concat(a.cyan("false")," or an object"));var d={};return Object.entries(c).forEach(c=>{var[e,f]=c;if(!1===f)return void(d[e]={error:!1,warning:!1});b(F(f),"Setting ".concat(a.cyan("hooksTimeout.".concat(e))," should be ").concat(a.cyan("false")," or an object"));var[g,h]=["error","warning"].map(d=>{var h=f[d];if(void 0===h||!1===h)return h;var c="Setting ".concat(a.cyan("hooksTimeout.".concat(e,".").concat(d))," should be");return b("number"==typeof h,"".concat(c," ").concat(a.cyan("false")," or a number")),b(0<h,"".concat(c," a positive number")),h});d[e]={error:g,warning:h}}),d}function J(a){return"onBeforeRoute"===a?{error:5000,warning:1000}:ue.isPrerendering?{error:120000,warning:30000}:(a.toLowerCase().includes("prerender"),{error:30000,warning:4000})}var O=v("utils/execHook.ts",{userHookErrors:new WeakMap,pageContext:null});function $e(){return _$e.apply(this,arguments)}function _$e(){return _$e=_asyncToGenerator(function*(a,b,c){var d=fe(a,b);return yield Y(d,b,c)}),_$e.apply(this,arguments)}function Se(){return _Se.apply(this,arguments)}function _Se(){return _Se=_asyncToGenerator(function*(a,b,d,c,e){var f=de(b,a),g=e(c);yield Promise.all(f.map(/*#__PURE__*/function(){var a=_asyncToGenerator(function*(a){yield K(()=>a.hookFn(g),a,d)});return function(){return a.apply(this,arguments)}}()))}),_Se.apply(this,arguments)}function Y(){return _Y.apply(this,arguments)}function _Y(){return _Y=_asyncToGenerator(function*(a,b,c){if(!a.length)return[];var d=c(b);return yield Promise.all(a.map(/*#__PURE__*/function(){var a=_asyncToGenerator(function*(a){var b=yield K(()=>a.hookFn(d),a,d);return _objectSpread(_objectSpread({},a),{},{hookReturn:b})});return function(){return a.apply(this,arguments)}}()))}),_Y.apply(this,arguments)}function Pe(){return _Pe.apply(this,arguments)}function _Pe(){return _Pe=_asyncToGenerator(function*(a,c,d){var e=yield Y([a],c,d),{hookReturn:f}=e[0];b(void 0===f,"The ".concat(a.hookName,"() hook defined by ").concat(a.hookFilePath," isn't allowed to return a value"))}),_Pe.apply(this,arguments)}function K(a,b,e){var j,l,{hookName:m,hookFilePath:n,hookTimeout:{error:o,warning:d}}=b,i=new Promise((a,b)=>{j=b=>{p(),a(b)},l=a=>{p(),b(a)}}),p=()=>{h&&clearTimeout(h),k&&clearTimeout(k)},h=_(d)&&setTimeout(()=>{ce(!1,"The ".concat(m,"() hook defined by ").concat(n," is slow: it's taking more than ").concat(L(d)," (https://vike.dev/hooksTimeout)"),{onlyOnce:!1})},d),k=_(o)&&setTimeout(()=>{var a=se("The ".concat(m,"() hook defined by ").concat(n," timed out: it didn't finish after ").concat(L(o)," (https://vike.dev/hooksTimeout)"));l(a)},o);return _asyncToGenerator(function*(){try{H(e);var b=yield a();j(b)}catch(a){F(a)&&O.userHookErrors.set(a,{hookName:m,hookFilePath:n}),l(a)}})(),i}function je(a,b,c){var d=c(b);return H(d),{hookReturn:a.hookFn(d)}}function _(a){return!!a&&a!==1/0}function xe(a){H(a)}function H(a){O.pageContext=a,Promise.resolve().then(()=>{O.pageContext=null})}var be="modulepreload",pe=function(a){return"/blocka/"+a},A={},Ce=function(a,b){function d(a){var b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=a,window.dispatchEvent(b),!b.defaultPrevented)throw a}var e=Promise.resolve();if(b&&0<b.length){var f=function(a){return Promise.all(a.map(a=>Promise.resolve(a).then(a=>({status:"fulfilled",value:a}),a=>({status:"rejected",reason:a}))))};document.getElementsByTagName("link");var g=document.querySelector("meta[property=csp-nonce]"),i=(null===g||void 0===g?void 0:g.nonce)||(null===g||void 0===g?void 0:g.getAttribute("nonce"));e=f(b.map(a=>{if(a=pe(a),!(a in A)){A[a]=!0;var b=a.endsWith(".css"),c=b?"[rel=\"stylesheet\"]":"";if(!document.querySelector("link[href=\"".concat(a,"\"]").concat(c))){var e=document.createElement("link");if(e.rel=b?"stylesheet":be,b||(e.as="script"),e.crossOrigin="",e.href=a,i&&e.setAttribute("nonce",i),document.head.appendChild(e),b)return new Promise((b,c)=>{e.addEventListener("load",b),e.addEventListener("error",()=>c(new Error("Unable to preload CSS for ".concat(a))))})}}}))}return e.then(b=>{for(var c of b||[])"rejected"===c.status&&d(c.reason);return a().catch(d)})};export{Ce as _,p as a,b,a as c,F as d,ae as e,ce as f,v as g,Te as h,I as i,Pe as j,J as k,se as l,me as m,$e as n,le as o,xe as p,de as q,Se as r,je as s,ve as t,Q as u,we as v,fe as w,Y as x,ye as y};